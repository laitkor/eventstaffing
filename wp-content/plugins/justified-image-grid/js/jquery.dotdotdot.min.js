/*
 *	jQuery dotdotdot 1.8.3
 *
 *	Copyright (c) Fred Heusschen
 *	www.frebsite.nl
 *
 *	Plugin website:
 *	dotdotdot.frebsite.nl
 *
 *	Licensed under the MIT license.
 *	http://en.wikipedia.org/wiki/MIT_License
 *
 *  made jQuery v3 compatible for JIG (bind -> on, unbind -> off)
 */
 (function(d,r){function x(a,b,f,c,g){var h=!1;a.contents().detach().each(function(){var e=d(this);if("undefined"==typeof this)return!0;if(e.is("script, .dotdotdot-keep"))a.append(e);else{if(h)return!0;a.append(e);if(g&&!e.is(c.after)&&!e.find(c.after).length)a[a.is("a, table, thead, tbody, tfoot, tr, col, colgroup, object, embed, param, ol, ul, dl, blockquote, select, optgroup, option, textarea, script, style")?"after":"append"](g);n(f,c)&&(h=3==this.nodeType?t(e,b,f,c,g):x(e,b,f,c,g));h||g&&g.detach()}});
b.addClass("is-truncated");return h}function t(a,b,f,c,g){var h=a[0];if(!h)return!1;var e=z(h),l=-1!==e.indexOf(" ")?" ":"\u3000",l="letter"==c.wrap?"":l,k=e.split(l),p=-1,w=-1,u=0,m=k.length-1;c.fallbackToLetter&&0==u&&0==m&&(l="",k=e.split(l),m=k.length-1);for(;u<=m&&(0!=u||0!=m);){e=Math.floor((u+m)/2);if(e==w)break;w=e;q(h,k.slice(0,w+1).join(l)+c.ellipsis);f.children().each(function(){d(this).toggle().toggle()});n(f,c)?(m=w,c.fallbackToLetter&&0==u&&0==m&&(l="",k=k[0].split(l),w=p=-1,u=0,m=k.length-
1)):u=p=w}-1==p||1==k.length&&0==k[0].length?(f=a.parent(),a.detach(),a=g&&g.closest(f).length?g.length:0,f.contents().length>a?h=y(f.contents().eq(-1-a),b):(h=y(f,b,!0),a||f.detach()),h&&(e=A(z(h),c),q(h,e),a&&g&&(b=g.parent(),d(h).parent().append(g),d.trim(b.html())||b.remove()))):(e=A(k.slice(0,p+1).join(l),c),q(h,e));return!0}function n(a,b){return a.innerHeight()>b.maxHeight}function A(a,b){for(;-1<d.inArray(a.slice(-1),b.lastCharacter.remove);)a=a.slice(0,-1);0>d.inArray(a.slice(-1),b.lastCharacter.noEllipsis)&&
(a+=b.ellipsis);return a}function B(a){return{width:a.innerWidth(),height:a.innerHeight()}}function q(a,b){a.innerText?a.innerText=b:a.nodeValue?a.nodeValue=b:a.textContent&&(a.textContent=b)}function z(a){return a.innerText?a.innerText:a.nodeValue?a.nodeValue:a.textContent?a.textContent:""}function C(a){do a=a.previousSibling;while(a&&1!==a.nodeType&&3!==a.nodeType);return a}function y(a,b,f){var c=a&&a[0];if(c){if(!f){if(3===c.nodeType)return c;if(d.trim(a.text()))return y(a.contents().last(),b)}for(f=
C(c);!f;){a=a.parent();if(a.is(b)||!a.length)return!1;f=C(a[0])}if(f)return y(d(f),b)}return!1}function D(a,b){return a?"string"===typeof a?(a=d(a,b),a.length?a:!1):a.jquery?a:!1:!1}if(!d.fn.dotdotdot){d.fn.dotdotdot=function(a){if(0==this.length)return d.fn.dotdotdot.debug('No element found for "'+this.selector+'".'),this;if(1<this.length)return this.each(function(){d(this).dotdotdot(a)});var b=this,f=b.contents();b.data("dotdotdot")&&b.trigger("destroy.dot");b.data("dotdotdot-style",b.attr("style")||
"");b.css("word-wrap","break-word");"nowrap"===b.css("white-space")&&b.css("white-space","normal");b.bind_events=function(){b.on("update.dot",function(a,e){b.removeClass("is-truncated");a.preventDefault();a.stopPropagation();switch(typeof c.height){case "number":c.maxHeight=c.height;break;case "function":c.maxHeight=c.height.call(b[0]);break;default:for(var k=c,h=b.innerHeight(),m=["paddingTop","paddingBottom"],p=0,q=m.length;p<q;p++){var v=parseInt(b.css(m[p]),10);isNaN(v)&&(v=0);h-=v}k.maxHeight=
h}c.maxHeight+=c.tolerance;if("undefined"!=typeof e){if("string"==typeof e||"nodeType"in e&&1===e.nodeType)e=d("<div />").append(e).contents();e instanceof d&&(f=e)}l=b.wrapInner('<div class="dotdotdot" />').children();l.contents().detach().end().append(f.clone(!0)).find("br").replaceWith("  <br />  ").end().css({height:"auto",width:"auto",border:"none",padding:0,margin:0});k=m=!1;g.afterElement&&(m=g.afterElement.clone(!0),m.show(),g.afterElement.detach());if(n(l,c))if("children"==c.wrap){k=l;h=
c;p=k.children();q=!1;k.empty();for(var v=0,t=p.length;v<t;v++){var r=p.eq(v);k.append(r);m&&k.append(m);if(n(k,h)){r.remove();q=!0;break}else m&&m.detach()}k=q}else k=x(l,b,l,c,m);l.replaceWith(l.contents());l=null;d.isFunction(c.callback)&&c.callback.call(b[0],k,f);return g.isTruncated=k}).on("isTruncated.dot",function(a,c){a.preventDefault();a.stopPropagation();"function"==typeof c&&c.call(b[0],g.isTruncated);return g.isTruncated}).on("originalContent.dot",function(a,c){a.preventDefault();a.stopPropagation();
"function"==typeof c&&c.call(b[0],f);return f}).on("destroy.dot",function(a){a.preventDefault();a.stopPropagation();b.unwatch().unbind_events().contents().detach().end().append(f).attr("style",b.data("dotdotdot-style")||"").removeClass("is-truncated").data("dotdotdot",!1)});return b};b.unbind_events=function(){b.off(".dot");return b};b.watch=function(){b.unwatch();if("window"==c.watch){var a=d(window),f=a.width(),l=a.height();a.on("resize.dot"+g.dotId,function(){f==a.width()&&l==a.height()&&c.windowResizeFix||
(f=a.width(),l=a.height(),e&&clearInterval(e),e=setTimeout(function(){b.trigger("update.dot")},100))})}else h=B(b),e=setInterval(function(){if(b.is(":visible")){var a=B(b);if(h.width!=a.width||h.height!=a.height)b.trigger("update.dot"),h=a}},500);return b};b.unwatch=function(){d(window).off("resize.dot"+g.dotId);e&&clearInterval(e);return b};var c=d.extend(!0,{},d.fn.dotdotdot.defaults,a),g={},h={},e=null,l=null;c.lastCharacter.remove instanceof Array||(c.lastCharacter.remove=d.fn.dotdotdot.defaultArrays.lastCharacter.remove);
c.lastCharacter.noEllipsis instanceof Array||(c.lastCharacter.noEllipsis=d.fn.dotdotdot.defaultArrays.lastCharacter.noEllipsis);g.afterElement=D(c.after,b);g.isTruncated=!1;g.dotId=E++;b.data("dotdotdot",!0).bind_events().trigger("update.dot");c.watch&&b.watch();return b};d.fn.dotdotdot.defaults={ellipsis:"... ",wrap:"word",fallbackToLetter:!0,lastCharacter:{},tolerance:0,callback:null,after:null,height:null,watch:!1,windowResizeFix:!0};d.fn.dotdotdot.defaultArrays={lastCharacter:{remove:" \u3000,;.!?".split(""),
noEllipsis:[]}};d.fn.dotdotdot.debug=function(a){};var E=1,F=d.fn.html;d.fn.html=function(a){return a!=r&&!d.isFunction(a)&&this.data("dotdotdot")?this.trigger("update",[a]):F.apply(this,arguments)};var G=d.fn.text;d.fn.text=function(a){return a!=r&&!d.isFunction(a)&&this.data("dotdotdot")?(a=d("<div />").text(a).html(),this.trigger("update",[a])):G.apply(this,arguments)}}})(jQuery);
jQuery(document).ready(function(d){d(".dot-ellipsis").each(function(){var r=d(this).hasClass("dot-resize-update"),x=d(this).hasClass("dot-timer-update"),t=0,n=d(this).attr("class").split(/\s+/);d.each(n,function(d,n){var q=n.match(/^dot-height-(\d+)$/);null!==q&&(t=Number(q[1]))});n={};x&&(n.watch=!0);r&&(n.watch="window");0<t&&(n.height=t);d(this).dotdotdot(n)})});jQuery(window).on("load",function(){jQuery(".dot-ellipsis.dot-load-update").trigger("update.dot")});